<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Patrick Site!</title>
  <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
</head>

<body>
  <div id="myChart"></div>
  <footer>
    <script>
      document.write(`Live @ ${new Date()}`);
    </script>
  </footer>
  <script>

    let fp = [0.0, 5.3, 3.2];
    function fet() {
      
      fetch('https://patjpaj.me/api/fp')
      .then(response => response.json())
      .then(data => {
        let arr = Object.values(data);
        console.log("Updating FP with data");
        for(var i=0; i < arr.length; i++) {
          let temp = arr[i].data;
          temp = temp.replace('"', ''); 
          console.log(typeof parseFloat(temp));
          fp.push(parseFloat(temp));
        }
        console.log("Rendering Chart");
        zingchart.render({
          id: 'myChart',
          data: myConfig,
        });
      });
    }

    let myConfig = {
        type: 'line',
        title: {
          text: 'Data Basics',
          fontSize: 24,
        },
        'scale-y': {
          'min-value': "10",
        },
        series: [
          {
            // Plot 1 values, linear data
            values: fp,
            text: 'TEST',
          },
        ]
    };

    // Render Method[3]
    window.onload=function(){
      fet();
    };
  </script>

</body>

</html>